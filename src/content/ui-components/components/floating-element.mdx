---
title: 为编辑器选择添加浮动元素
meta:
  title: 浮动元素 | Tiptap UI 组件
  description: 在您的 Tiptap 编辑器中插入一个浮动的 UI 元素，紧靠选择。更多信息请查看文档。
  category: UI 组件
---

import { CodeDemo } from '@/components/CodeDemo'

一个实用组件，用于创建与编辑器选择相关联的浮动 UI 元素。

<CodeDemo
  isScrollable
  isSmall
  src="https://template.tiptap.dev/preview/tiptap-ui/floating-element"
/>

## 安装

```bash
npx @tiptap/cli add floating-element
```

## 使用方法

```tsx
import { FloatingElement } from '@/components/tiptap-ui/floating-element'
import { useEditor, EditorContent } from '@tiptap/react'

export default function MyEditor() {
  const editor = useEditor({
    // 编辑器配置
  })

  const [show, setShow] = React.useState(false)

  return (
    <div>
      <EditorContent editor={editor} />
      <FloatingElement editor={editor} shouldShow={show} zIndex={50}>
        <div className="floating-toolbar">{/* 工具栏内容 */}</div>
      </FloatingElement>
    </div>
  )
}
```

## 属性

| 名称                  | 类型                                | 默认                     | 描述                                           |
| --------------------- | ----------------------------------- | ------------------------ | ---------------------------------------------- |
| editor                | Editor \| null                      | null                     | Tiptap 编辑器实例                             |
| shouldShow            | boolean                             | false                    | 控制元素是否可见                               |
| floatingOptions       | UseFloatingOptions                  | {}                       | 浮动 UI 的选项                                 |
| zIndex                | number                              | 50                       | 浮动元素的 Z-index                             |
| onOpenChange          | (open: boolean) => void             | -                        | 可见性状态变化时的回调                        |
| getBoundingClientRect | (editor: Editor) => DOMRect \| null | getSelectionBoundingRect | Tiptap 工具函数以确定位置                     |
| updateOnScroll        | boolean                             | true                     | 是否在滚动事件中更新位置                      |

## 需求

使用的参考组件

- `tiptap-utils` (库)
- `use-tiptap-editor` (钩子)
- `use-floating-element` (钩子)

开源特性

- `@floating-ui/react`