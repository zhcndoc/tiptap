---
title: Emoji èœå•
meta:
  title: Emoji èœå• | Tiptap UI ç»„ä»¶
  description: å…·æœ‰æœç´¢åŠŸèƒ½çš„äº¤äº’å¼ Emoji é€‰æ‹©èœå•ï¼Œé€‚ç”¨äº Tiptap ç¼–è¾‘å™¨ã€‚è¯¦æƒ…è¯·æŸ¥é˜…æ–‡æ¡£ã€‚
  category: UI ç»„ä»¶
component:
  name: Emoji èœå•
  description: æ·»åŠ ä¸€ä¸ªå¸¦æœ‰æœç´¢å’Œé”®ç›˜å¯¼èˆªåŠŸèƒ½çš„äº¤äº’å¼ Emoji é€‰æ‹©èœå•ã€‚
  type: component
  isFree: false
  isCloud: false
  isOpen: false
  isNew: false
  icon: Smile
tags:
  - type: start
---

import { CodeDemo } from '@/components/CodeDemo'

ä¸€ä¸ªå®Œå…¨é¢å‘æ— éšœç¢çš„ Emoji é€‰æ‹©èœå•ï¼Œé€‚ç”¨äº Tiptap ç¼–è¾‘å™¨ã€‚æ”¯æŒé€šè¿‡é”®ç›˜å¯¼èˆªæµè§ˆå’Œæœç´¢ Emojiï¼Œå†…ç½®å¤‡ç”¨å›¾ç‰‡ä»¥åŠå¯è‡ªå®šä¹‰çš„ç­›é€‰é€‰é¡¹ã€‚

<CodeDemo isScrollable src="https://template.tiptap.dev/preview/tiptap-ui/emoji-menu" />

## å®‰è£…

é€šè¿‡ Tiptap CLI æ·»åŠ ç»„ä»¶ï¼š

```bash
npx @tiptap/cli@latest add emoji-menu
```

## ç»„ä»¶

### `<EmojiMenu />`

ä¸€ä¸ªå…·æœ‰æœç´¢å’Œå¯¼èˆªåŠŸèƒ½çš„å®Œæ•´ Emoji é€‰æ‹©èœå•ã€‚

#### ç”¨æ³•

```tsx
import { EmojiMenu } from '@/components/tiptap-ui/emoji-menu'
import { gitHubEmojis } from '@tiptap/extension-emoji'
import type { EmojiItem } from '@tiptap/extension-emoji'

export default function MyEmojiPicker() {
  const [selectedEmoji, setSelectedEmoji] = useState<EmojiItem | null>(null)

  const handleEmojiSelect = (emoji: EmojiItem) => {
    setSelectedEmoji(emoji)
    console.log('é€‰ä¸­çš„ emoji:', emoji.name, emoji.emoji)
  }

  const handleClose = () => {
    console.log('Emoji èœå•å·²å…³é—­')
  }

  return (
    <EmojiMenu
      emojis={gitHubEmojis}
      onSelect={handleEmojiSelect}
      onClose={handleClose}
      showSearch={true}
      selector=".my-emoji-menu"
    />
  )
}
```

#### å±æ€§

| åç§°         | ç±»å‹                    | é»˜è®¤å€¼                 | æè¿°                                        |
| ------------ | ----------------------- | ---------------------- | -------------------------------------------- |
| `emojis`     | `T[] extends EmojiItem` | `undefined`            | è¦æ˜¾ç¤ºçš„ Emoji é¡¹ç›®æ•°ç»„                      |
| `onSelect`   | `(emoji: T) => void`    | `undefined`            | é€‰æ‹© Emoji æ—¶è§¦å‘çš„å›è°ƒ                      |
| `onClose`    | `() => void`            | `undefined`            | èœå•å…³é—­æ—¶è§¦å‘çš„å›è°ƒ                         |
| `showSearch` | `boolean`               | `false`                | æ˜¯å¦æ˜¾ç¤ºæœç´¢è¾“å…¥æ¡†                           |
| `selector`   | `string`                | `".emoji-menu-list"`   | å¯æ»šåŠ¨èœå•å®¹å™¨çš„ CSS é€‰æ‹©å™¨                  |

### `<EmojiMenuItem />`

Emoji èœå•å†…ä½¿ç”¨çš„å•ä¸ª Emoji æ¡ç›®ç»„ä»¶ã€‚

#### ç”¨æ³•

```tsx
import { EmojiMenuItem } from '@/components/tiptap-ui/emoji-menu'
import type { EmojiItem } from '@tiptap/extension-emoji'

function CustomEmojiList({ emojis, onSelect, selectedIndex }) {
  return (
    <div>
      {emojis.map((emoji, index) => (
        <EmojiMenuItem
          key={emoji.name}
          emoji={emoji}
          index={index}
          isSelected={index === selectedIndex}
          onSelect={onSelect}
          selector=".custom-emoji-list"
        />
      ))}
    </div>
  )
}
```

#### å±æ€§

| åç§°         | ç±»å‹                  | é»˜è®¤å€¼     | æè¿°                                        |
| ------------ | --------------------- | ---------- | -------------------------------------------- |
| `emoji`      | `T extends EmojiItem` | `undefined`| è¦æ¸²æŸ“çš„ Emoji é¡¹ç›®                         |
| `index`      | `number`              | `undefined`| Emoji åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•                        |
| `isSelected` | `boolean`             | `undefined`| æ­¤ Emoji æ¡ç›®å½“å‰æ˜¯å¦è¢«é€‰ä¸­                 |
| `onSelect`   | `(emoji: T) => void`  | `undefined`| é€‰æ‹©æ­¤ Emoji æ—¶è§¦å‘çš„å›è°ƒ                   |
| `selector`   | `string`              | `undefined`| å¯æ»šåŠ¨å®¹å™¨çš„ CSS é€‰æ‹©å™¨                      |

## å·¥å…·å‡½æ•°

### `getFilteredEmojis(props)`

æ ¹æ®æœç´¢æŸ¥è¯¢ç­›é€‰å¹¶æ’åº Emoji æ•°æ®ã€‚

```tsx
import { getFilteredEmojis } from '@/components/tiptap-ui/emoji-menu'
import { gitHubEmojis } from '@tiptap/extension-emoji'

const filteredEmojis = getFilteredEmojis({
  query: 'smile',
  emojis: gitHubEmojis,
})

console.log('ç­›é€‰åçš„ Emoji æ•°é‡:', filteredEmojis.length)
```

#### å‚æ•°

| åç§°           | ç±»å‹                    | æè¿°                             |
| -------------- | ----------------------- | -------------------------------- |
| `props.query`  | `string`                | ç”¨äºç­›é€‰ Emoji çš„æœç´¢æŸ¥è¯¢å­—ç¬¦ä¸²  |
| `props.emojis` | `T[] extends EmojiItem` | è¦ç­›é€‰çš„ Emoji é¡¹ç›®æ•°ç»„           |

#### è¿”å›å€¼

`T[]` - ç­›é€‰å¹¶æ’åºåçš„ Emoji é¡¹ç›®æ•°ç»„ï¼ˆæœ€å¤š 100 æ¡ç»“æœï¼‰ã€‚

### `searchEmojiData(query, emojiData)`

åˆ¤æ–­ä¸€ä¸ª Emoji æ˜¯å¦åŒ¹é…æœç´¢æŸ¥è¯¢ã€‚

```tsx
import { searchEmojiData } from '@/components/tiptap-ui/emoji-menu'

const emoji = {
  name: 'grinning',
  shortcodes: ['grinning', 'grinning_face'],
  tags: ['face', 'smile'],
  emoji: 'ğŸ˜€',
}

const matches = searchEmojiData('smile', emoji) // true
```

#### å‚æ•°

| åç§°        | ç±»å‹                  | æè¿°                                |
| ----------- | --------------------- | ----------------------------------- |
| `query`     | `string`              | æœç´¢æŸ¥è¯¢å­—ç¬¦ä¸²                      |
| `emojiData` | `T extends EmojiItem` | ç”¨äºåŒ¹é…çš„ Emoji é¡¹ç›®               |

#### è¿”å›å€¼

`boolean` - è¯¥ Emoji æ˜¯å¦åŒ¹é…æœç´¢æŸ¥è¯¢ã€‚

## æœç´¢åŠŸèƒ½

Emoji èœå•æ”¯æŒè·¨å¤šä¸ª Emoji å±æ€§çš„æ™ºèƒ½æœç´¢ï¼š

### æœç´¢å­—æ®µ

- **åç§°**ï¼šä¸»è¦ Emoji åç§°ï¼ˆä¾‹å¦‚ "grinning"ï¼‰
- **çŸ­ç **ï¼šåˆ«åï¼ˆä¾‹å¦‚ "grinning_face"ï¼‰
- **æ ‡ç­¾**ï¼šæè¿°æ€§æ ‡ç­¾ï¼ˆä¾‹å¦‚ "face", "smile"ï¼‰

### æœç´¢ç‰¹ç‚¹

- **ä¸åŒºåˆ†å¤§å°å†™**ï¼šæœç´¢æ—¶å¿½ç•¥å¤§å°å†™
- **éƒ¨åˆ†åŒ¹é…**ï¼šæ‰¾åˆ°åŒ…å«æœç´¢è¯çš„ Emoji
- **å¤šå­—æ®µæœç´¢**ï¼šè·¨åç§°ã€çŸ­ç å’Œæ ‡ç­¾è¿›è¡Œæœç´¢
- **ç»“æœé™åˆ¶**ï¼šä¸ºäº†æ€§èƒ½ï¼Œæœ€å¤šè¿”å› 100 æ¡ç»“æœ
- **å­—æ¯æ’åº**ï¼šç»“æœæŒ‰ç…§ Emoji åç§°æ’åº

### ç¤ºä¾‹æœç´¢æŸ¥è¯¢

```tsx
// æŒ‰åç§°æœç´¢
getFilteredEmojis({ query: 'heart', emojis }) // â¤ï¸, ğŸ’–, ğŸ’• ç­‰

// æŒ‰æ ‡ç­¾æœç´¢
getFilteredEmojis({ query: 'face', emojis }) // ğŸ˜€, ğŸ˜ƒ, ğŸ˜„ ç­‰

// æŒ‰çŸ­ç æœç´¢
getFilteredEmojis({ query: 'grinning', emojis }) // ğŸ˜€, ğŸ˜ƒ ç­‰

// ç©ºæŸ¥è¯¢è¿”å›å‰ 100 ä¸ª Emoji
getFilteredEmojis({ query: '', emojis }) // å‰ 100 ä¸ª Emoji
```

## é”®ç›˜å¯¼èˆª

Emoji èœå•æ”¯æŒå®Œæ•´çš„é”®ç›˜å¯¼èˆªï¼š

- **æ–¹å‘é”®**ï¼šä¸Šä¸‹å¯¼èˆª Emoji åˆ—è¡¨
- **å›è½¦é”®**ï¼šé€‰æ‹©å½“å‰é«˜äº®çš„ Emoji
- **Esc é”®**ï¼šå…³é—­èœå•
- **è¾“å…¥æœç´¢**ï¼šè‡ªåŠ¨èšç„¦æœç´¢è¾“å…¥å¹¶è¿‡æ»¤ç»“æœ

å¯¼èˆªåŠŸèƒ½ç”± `useMenuNavigation` é’©å­æä¾›ï¼ŒåŒ…æ‹¬ï¼š

- **æ™ºèƒ½æ»šåŠ¨**ï¼šè‡ªåŠ¨æ»šåŠ¨é«˜äº®é¡¹è¿›å…¥è§†é‡
- **æº¢å‡ºå¤„ç†**ï¼šé˜²æ­¢è¶…å‡ºèœå•è¾¹ç•Œçš„æ»šåŠ¨
- **ç„¦ç‚¹ç®¡ç†**ï¼šå¯¼èˆªè¿‡ç¨‹ä¸­ä¿æŒç„¦ç‚¹çŠ¶æ€

### è‡ªå®šä¹‰ Emoji æ•°æ®

```tsx
const customEmojis = [
  {
    emoji: 'ğŸ‰',
    name: 'party',
    shortcodes: ['party', 'celebration'],
    tags: ['celebrate', 'fun'],
    group: 'activities',
    emoticons: [],
    version: 1,
    fallbackImage: 'https://example.com/party-emoji.png',
  },
  // ... æ›´å¤šè‡ªå®šä¹‰ Emoji
]

function CustomEmojiPicker() {
  return (
    <EmojiMenu
      emojis={customEmojis}
      onSelect={(emoji) => console.log('è‡ªå®šä¹‰ Emoji:', emoji)}
      showSearch={true}
    />
  )
}
```

## Emoji é¡¹æ¥å£

`@tiptap/extension-emoji` ä¸­çš„ `EmojiItem` æ¥å£å®šä¹‰ï¼š

```tsx
interface EmojiItem {
  emoji: string // å®é™…çš„ Emoji å­—ç¬¦: "ğŸ˜€"
  name: string // ä¸»è¦åç§°: "grinning"
  shortcodes: string[] // åˆ«åæ•°ç»„: ["grinning", "grinning_face"]
  tags: string[] // æè¿°æ ‡ç­¾: ["face", "smile"]
  group: string // åˆ†ç±»ç»„åˆ«: "smileys-emotion"
  emoticons: string[] // æ–‡æœ¬è¡¨ç°å½¢å¼: [":D"]
  version: number // Unicode ç‰ˆæœ¬å·: 1.0
  fallbackImage?: string // å¯é€‰å¤‡ç”¨å›¾ç‰‡ URL
}
```

## ä¾èµ–é¡¹

### å¿…éœ€ä¾èµ–

- `@tiptap/react` - Tiptap React æ ¸å¿ƒé›†æˆ
- `@tiptap/extension-emoji` - Emoji æ‰©å±•åŠç±»å‹å®šä¹‰

### å¯é€‰ä¾èµ–

- `sass` - ç”¨äºæ”¯æŒ SCSS æ ·å¼
- `sass-embedded` - å¢å¼ºçš„ Sass å¤„ç†å™¨

### ç›¸å…³ç»„ä»¶

- `use-menu-navigation`ï¼ˆé’©å­ï¼‰
- `button`, `button-group`ï¼ˆåŸºç¡€ç»„ä»¶ï¼‰
- `input`ï¼ˆåŸºç¡€ç»„ä»¶ï¼‰
- `card`, `card-body`, `card-header`ï¼ˆåŸºç¡€ç»„ä»¶ï¼‰
- `tiptap-collab-utils`ï¼ˆåº“ï¼‰