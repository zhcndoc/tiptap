---
title: 为高亮添加弹出层
meta:
  title: 高亮弹出层 | Tiptap UI 组件
  description: 添加一个弹出层，您可以在其中选择高亮。将此 UI 组件添加到您的 Tiptap 编辑器中。
  category: UI 组件
component:
  name: 高亮弹出层
  description: 从弹出层中选择高亮。
  type: component
  isFree: true
  isCloud: false
  isOpen: true
  isNew: false
  icon: Highlighter
---

import { CodeDemo } from '@/components/CodeDemo'

一个用于选择文本高亮颜色的弹出层。

<CodeDemo
  isScrollable
  isSmall
  src="https://template.tiptap.dev/preview/tiptap-ui/highlight-popover"
/>

## 安装
您可以通过 Tiptap CLI（适用于 Vite 或 Next.js）添加此组件

```bash
npx @tiptap/cli add highlight-popover
```

### 手动集成
对于除了 Vite 或 Next.js 以外的框架，可从[开源仓库](https://github.com/ueberdosis/tiptap-ui-components/tree/main/apps/web/src/components/tiptap-ui/highlight-popover)手动添加此组件。

### 导入样式

此组件需要您导入我们已添加到 `styles/keyframe-animation.scss` 和 `styles/_variables.scss` 中的样式。

## 使用方法

```tsx
import { EditorContent, EditorContext, useEditor } from '@tiptap/react'
import { StarterKit } from '@tiptap/starter-kit'
import { Highlight } from '@tiptap/extension-highlight'
import { HighlightPopover } from '@/components/tiptap-ui/highlight-popover'

import '@/components/tiptap-node/paragraph-node/paragraph-node.scss'

export default function MyEditor() {
  const editor = useEditor({
    immediatelyRender: false,
    extensions: [StarterKit, Highlight.configure({ multicolor: true })],
    content: `
        <p style="text-align: left">
            <mark data-color="var(--tt-highlight-purple)" style="background-color: var(--tt-highlight-purple); color: inherit">
                <span class="selection">高亮文本</span>
            </mark>
            <span class="selection"> </span>
            <mark data-color="var(--tt-highlight-red)" style="background-color: var(--tt-highlight-red); color: inherit">
                <span class="selection">在</span>
            </mark>
            <span class="selection"> </span>
            <mark data-color="var(--tt-highlight-green)" style="background-color: var(--tt-highlight-green); color: inherit">
                <span class="selection">不同</span>
            </mark>
            <span class="selection"> </span>
            <mark data-color="var(--tt-highlight-blue)" style="background-color: var(--tt-highlight-blue); color: inherit">
                <span class="selection">颜色</span>
            </mark>
            <span class="selection"> 中以突出重点。</span>
        </p>
        `,
  })

  return (
    <EditorContext.Provider value={{ editor }}>
      <div className="tiptap-button-group" data-orientation="horizontal">
        <HighlightPopover />
      </div>

      <EditorContent editor={editor} role="presentation" />
    </EditorContext.Provider>
  )
}
```

## 参数

| 名称                 | 类型               | 默认值                     | 描述                                        |
| -------------------- | ------------------ | -------------------------- | ------------------------------------------- |
| editor               | Editor \| null     | null                       | Tiptap 编辑器实例                            |
| colors               | HighlightColor[]   | DEFAULT_HIGHLIGHT_COLORS   | 高亮颜色选项数组                            |
| hideWhenUnavailable  | boolean            | false                      | 弹出层是否处于浮动环境中                    |

## 需求

使用的参考组件

- `use-menu-navigation`（钩子）
- `use-tiptap-editor`（钩子）
- `button`（基础组件）
- `popover`（基础组件）
- `separator`（基础组件）
- `tiptap-utils`（库）
- `highlighter-icon`（图标）
- `ban-icon`（图标）

开源功能

- `@tiptap/extension-highlight`