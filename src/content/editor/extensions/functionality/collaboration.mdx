---
title: 协作扩展
tags:
  - type: image
    src: https://img.shields.io/npm/v/@tiptap/extension-collaboration/next?label=版本
    url: https://www.npmjs.com/package/@tiptap/extension-collaboration
    label: 版本
  - type: image
    src: https://img.shields.io/npm/dm/@tiptap/extension-collaboration.svg
    url: https://npmcharts.com/compare/@tiptap/extension-collaboration?minimal=true
    label: 下载次数
meta:
  category: 编辑器
  title: 协作扩展 | Tiptap 编辑器文档
  description: 了解如何在 Tiptap 中使用协作扩展来设置和使用协作编辑。
extension:
  name: 协作
  link: https://github.com/ueberdosis/tiptap/tree/main/packages/extension-collaboration
  description: 协作文本编辑可能非常复杂，但不必如此。
  type: extension
  icon: 收音机
---

import { ArrowRightIcon } from 'lucide-react'
import Link from '@/components/Link'
import * as CtaBox from '@/components/CtaBox'
import { Button } from '@/components/ui/Button'
import { CodeDemo } from '@/components/CodeDemo'
import { Callout } from '@/components/ui/Callout'

这个小指南将快速演示如何将基本的协作功能集成到您的编辑器中。有关适当的协作集成，请查看[Tiptap 协作](/collaboration/getting-started/overview)的文档，这是一个云和本地的协作服务器解决方案。

<CodeDemo path="/Demos/CollaborationSplitPane" />

## 安装

<Callout title="更多详细信息" variant="hint">
  有关如何与 Tiptap 协作产品集成、安装和配置协作扩展的更详细信息，请访问我们的[功能页面](/collaboration/getting-started/overview)。
</Callout>

```bash
npm install @tiptap/extension-collaboration@next @tiptap/y-tiptap@next yjs y-websocket
```

## 设置

### document

初始化的 Y.js 文档。

默认值: `null`

```js
Collaboration.configure({
  document: new Y.Doc(),
})
```

### field

Y.js 片段的名称，可以更改为与一个 Y.js 文档同步多个字段。

默认值: `'default'`

```js
Collaboration.configure({
  document: new Y.Doc(),
  field: 'title',
})
```

### fragment

原始的 Y.js 片段，可以替代 `document` 和 `field` 使用。

默认值: `null`

```js
Collaboration.configure({
  fragment: new Y.Doc().getXmlFragment('body'),
})
```

## 命令

`Collaboration` 扩展带有其自己的历史扩展。如果您使用的是 `StarterKit`，请确保禁用 `UndoRedo` 扩展。

### undo()

撤销最后一次更改。

```js
editor.commands.undo()
```

### redo()

重做最后一次更改。

```js
editor.commands.redo()
```

## 快捷键

| 命令   | Windows/Linux                                                                             | macOS                                                                             |
| ------ | ----------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------- |
| undo() | <kbd>Control</kbd> + <kbd>Z</kbd>                                                         | <kbd>Cmd</kbd> + <kbd>Z</kbd>                                                     |
| redo() | <kbd>Shift</kbd> + <kbd>Control</kbd> + <kbd>Z</kbd> 或 <kbd>Control</kbd> + <kbd>Y</kbd> | <kbd>Shift</kbd> + <kbd>Cmd</kbd> + <kbd>Z</kbd> 或 <kbd>Cmd</kbd> + <kbd>Y</kbd> |

## 源代码

[packages/extension-collaboration/](https://github.com/ueberdosis/tiptap/blob/main/packages/extension-collaboration/)

## 你做到了！

您的编辑器现在是协作的！邀请您的朋友，一起开始打字 🙌🏻 如果您想继续构建协作编辑功能，请确保查看[Tiptap 协作文档](/collaboration/getting-started/overview)，以获取完全托管的本地协作服务器解决方案。

<CtaBox.Wrapper>
  <CtaBox.Title>协作</CtaBox.Title>
  <CtaBox.Description>
    系好安全带！让您的富文本编辑器与 Tiptap 协作功能一起工作。
  </CtaBox.Description>
  <CtaBox.List>
    <CtaBox.ListItem>实时一切</CtaBox.ListItem>
    <CtaBox.ListItem>优先离线和无冲突</CtaBox.ListItem>
    <CtaBox.ListItem>由我们管理和托管或在您本地</CtaBox.ListItem>
  </CtaBox.List>
  <CtaBox.Actions className="-mx-3">
    <Button className="text-white/80 hover:text-white/100" variant="tertiary" asChild>
      <Link href="/collaboration/getting-started/overview">
        了解更多
        <ArrowRightIcon className="w-4 h-4" />
      </Link>
    </Button>
  </CtaBox.Actions>
</CtaBox.Wrapper>