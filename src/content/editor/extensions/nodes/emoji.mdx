---
title: Emoji 扩展
icon: emoji-smile-line
extension:
  name: Emoji
  description: 将表情符号作为行内节点呈现，并为不支持的表情符号提供备用图像。
  type: node
  icon: Laugh
  isPro: true
meta:
  title: Emoji 扩展 | Tiptap 编辑器文档
  description: 在 Tiptap 中使用 Emoji 扩展，将表情符号作为行内节点呈现，并为不支持的表情符号提供备用图像。
  category: 编辑器
tags:
  - type: pro
---

import { CodeDemo } from '@/components/CodeDemo'
import { Callout } from '@/components/ui/Callout'
import { Requirements, RequirementItem } from '@/components/Requirements'

<Requirements>
    <RequirementItem label="1. 激活试用或订阅">
        在您的帐户中开始一个免费的 [试用](https://cloud.tiptap.dev/v2/billing) 或订阅一个 [Tiptap 计划](https://cloud.tiptap.dev/v2/billing)。
    </RequirementItem>
    <RequirementItem label="2. 从私有注册中心安装">
        要安装此前端扩展，请按照 [设置指南](/guides/pro-extensions) 认证 Tiptap 的私有 npm 注册中心。
    </RequirementItem>
</Requirements>


`Emoji` 扩展将表情符号作为行内节点呈现。所有插入的（输入、粘贴等）表情符号将转换为此节点。这样做的好处是，不支持的表情符号可以用备用图像呈现。当您从编辑器中复制文本时，它们将被转换回纯文本。

<CodeDemo isPro path="/Nodes/Emoji" />

## 安装

<Callout title="设置对 Tiptap 私有存储库的访问" variant="info">
  通过注册一个免费的 [Tiptap
  帐户](https://cloud.tiptap.dev/register) 并按照我们的 [访问
  指南](/guides/pro-extensions) 获取 Tiptap 的私有存储库，以集成此专业扩展。
</Callout>

```bash
npm install @tiptap-pro/extension-emoji@next
```

## 依赖

为了正确放置弹出窗口，我们在所有示例中使用 [tippy.js](https://atomiks.github.io/tippyjs/)。您可以自由选择自己的库，但如果您愿意，只需安装我们使用的：

```bash
npm install tippy.js
```

## 设置

### HTMLAttributes

要添加到呈现的 HTML 标签中的自定义 HTML 属性。

```js
Emoji.configure({
  HTMLAttributes: {
    class: 'my-custom-class',
  },
})
```

### emojis

定义一组表情符号。Tiptap 提供两个表情符号列表：

1. 默认的 `emojis` 列表，包含所有 14.1 版本的 Unicode 表情符号。
2. 扩展的 `gitHubEmojis` 列表，包含自定义表情符号，例如 :octocat:

```js
import Emoji, { gitHubEmojis } from '@tiptap-pro/extension-emoji'

Emoji.configure({
  emojis: gitHubEmojis,
})
```

<Callout title="肤色" variant="hint">

肤色尚不支持 ✌🏽

</Callout>

### enableEmoticons

指定文本是否应转换为表情符号（例如 `<3` 转为 ❤️）。默认为 `false`。

```js
Emoji.configure({
  enableEmoticons: true,
})
```

### forceFallbackImages

指定是否应始终渲染备用图像。默认为 `false`。

```js
Emoji.configure({
  forceFallbackImages: true,
})
```

#### 添加自定义表情符号

添加您自己的自定义表情符号非常简单。

```js
import Emoji, { emojis } from '@tiptap-pro/extension-emoji'

const customEmojis = [
  {
    // 表情符号的唯一名称，将作为属性存储
    name: 'octocat',
    // 输入规则使用的唯一短代码列表，以找到表情符号
    shortcodes: ['octocat'],
    // 帮助查找表情符号的标签列表
    tags: ['cat', 'meow'],
    // 有助于分组表情符号的名称
    group: '我的自定义表情符号组',
    // 要呈现的图像
    fallbackImage: 'https://github.githubassets.com/images/icons/emoji/octocat.png',
  },
]

Emoji.configure({
  emojis: [...emojis, ...customEmojis],
})
```

### suggestion

[阅读更多](/editor/api/utilities/suggestion)

```js
Emoji.configure({
  suggestion: {
    // …
  },
})
```