---
title: 阅读文档
meta:
  title: 阅读文档 | Tiptap 内容 AI
  description: 了解 AI 代理如何在 Tiptap 中阅读文档。
  category: 内容 AI
---

AI 代理以块的形式读取文档，以高效处理任何大小的文档。这个分块机制是必不可少的，因为：

1. 大型文档可能超出 LLM 的上下文窗口
2. 编辑较小的块更高效
3. 它允许 AI 代理专注于文档的特定部分

## 分块机制

默认情况下，文档被拆分成约 1000 个字符的块，同时保持 HTML 结构。AI 代理维护一个指向当前块的指针，并可以使用特定工具在文档中导航。

```tsx
// 默认块大小为 1000 个字符
// 创建提供者时可以自定义它
const provider = new AiAgentProvider({
  // ...其他选项
  chunkSize: 2000, // 较大的块 (2000 个字符)
})
```

## 自定义分块

您可以通过提供自定义的 `chunkHtml` 函数来自定义文档的分块方式：

```tsx
const provider = new AiAgentProvider({
  // ...其他选项
  chunkSize: 1000,
  chunkHtml: ({ html, chunkSize }) => {
    // 自定义逻辑将 HTML 拆分成块
    // 必须返回一个 HTML 字符串数组
    return customSplitFunction(html, chunkSize)
  },
})
```