---
title: 阅读文档
meta:
  title: 阅读文档 | Tiptap 内容 AI
  description: 了解 AI 代理如何在 Tiptap 中阅读文档。
  category: 内容 AI
---

AI 代理将文档分块读取，以高效处理任意大小的文档。该分块机制之所以重要，是因为：

1. 大型文档可能超过 LLM 的上下文窗口
2. 分块编辑在多轮对话中更高效
3. 使 AI 代理能够专注于文档的特定部分

## 分块机制

默认情况下，文档被拆分为大约每块 32000 个字符，同时保持 HTML 结构。AI 代理一次读取一块，并可根据需要导航到下一块或上一块。

可以通过设置 `chunkSize` 选项自定义每块的字符数：

```tsx
const provider = new AiAgentProvider({
  chunkSize: 2000, // 定义更小的块大小
  // ...其他选项
})
```

## 自定义分块

您可以通过提供自定义的 `chunkHtml` 函数来自定义文档的分块方式：

```tsx
const provider = new AiAgentProvider({
  // ...其他选项
  chunkHtml: ({ html, chunkSize }) => {
    // 自定义逻辑将 HTML 拆分成块
    // 必须返回一个 HTML 字符串数组
    return customSplitFunction(html, chunkSize)
  },
})
```