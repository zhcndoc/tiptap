---
title: 阅读文档
meta:
  title: 阅读文档 | Tiptap 内容 AI
  description: 了解 AI 代理如何在 Tiptap 中阅读文档。
  category: 内容 AI
---

AI 代理按块读取文档，以高效处理任意大小的文档。此分块机制非常重要，因为：

1. 大型文档可能超出大型语言模型 (LLM) 的上下文窗口
2. 分块编辑对于多轮对话更加高效
3. 允许 AI 代理专注于文档的特定部分

## 分块机制

默认情况下，文档被拆分为大约每块 8000 个标记的块，同时保留 HTML 结构。AI 代理维护一个当前块的指针，并可以使用特定工具在文档中导航。

```tsx
const provider = new AiAgentProvider({
  chunkSize: 2000, // 定义更小的块大小
  // ...其他选项
})
```

## 自定义分块

您可以通过提供自定义的 `chunkHtml` 函数来自定义文档的分块方式：

```tsx
const provider = new AiAgentProvider({
  // ...其他选项
  chunkHtml: ({ html, chunkSize }) => {
    // 自定义逻辑将 HTML 拆分成块
    // 必须返回一个 HTML 字符串数组
    return customSplitFunction(html, chunkSize)
  },
})
```