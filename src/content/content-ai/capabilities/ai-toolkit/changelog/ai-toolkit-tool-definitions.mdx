---
title: 更新日志 - 工具定义
meta:
  title: 更新日志 - 工具定义 | Tiptap AI 工具包
  description: '@tiptap-pro/ai-toolkit-tool-definitions 包的更新日志'
  category: 内容 AI
---

# @tiptap-pro/ai-toolkit-tool-definitions

## 3.0.0-alpha.31

### 小改动

- 新增 `createTemplateWorkflow` 服务器端工作流，用于生成模板填充提示和模式。

## 3.0.0-alpha.30

### 小改动

- 向 `toolDefinitions()` 和 `tiptapEditTool()` 添加了 `operationMeta` 选项。设置后，AI 会在每个编辑操作中包含一个带有变更原因说明的 `meta` 字段。

## 3.0.0-alpha.29

### 重大改动

- 改进了 `editThreads` 工具的定义，避免 AI 有时无法创建线程的错误。
- 改进了 Comments 工作流的提示，避免 AI 有时无法创建线程的错误。

## 3.0.0-alpha.28

### 补丁改动

- 改进了 tiptapEdit 工具定义，使编辑更高效。

## 3.0.0-alpha.27

### 重大改动

- **重大破坏性变更**：在工作流用户提示中，将输入属性 `nodes` 重命名为 `content`。这影响 `createTiptapEditWorkflow` 和 `createEditThreadsWorkflow`。请更新工作流调用，使用 `content` 替代 `nodes`。

### 补丁改动

- 更新 `editThreadsWorkflow`，明确 `htmlContent` 必须包含整个节点的 HTML，包括该节点的 HTML 标签。
- 更新 `editThreads` 工具描述，明确 HTML 内容要求。

## 3.0.0-alpha.26

### 补丁改动

- 明确 `getThreads` 分页范围，工具输出中使用排他性的上界。

## 3.0.0-alpha.25

### 补丁改动

- 在 `getThreads` 工具模式和描述中新增分页字段。

## 3.0.0-alpha.24

### 重大改动

- **重大破坏性变更**：移除此包中的服务器工具定义和导出。

## 3.0.0-alpha.23

### 小改动

- 新增 `createTiptapEditWorkflow` 方法。该方法创建一个内置工作流的提示和模式，允许 AI 编辑文档。
- 新增 `createEditThreadsWorkflow` 方法。该方法创建一个内置工作流的提示和模式，允许 AI 管理评论和线程。

## 3.0.0-alpha.22

### 重大改动

- **重大破坏性变更**：修改 `editThreads` 工具，采用新的更高效的格式。新格式更快、更高效，使用更少代币，并完全避免差异不匹配错误，显著提升工具准确性。

## 3.0.0-alpha.21

### 小改动

- 在工具定义中包含 Zod 模式，位于 `zodInputSchema` 属性。

## 3.0.0-alpha.20

### 小改动

- 新增 `createInsertContentWorkflow` 方法。该方法创建允许 AI 插入或替换文档内容的内置工作流提示。

## 3.0.0-alpha.19

### 小改动

- 新增 `createProofreaderWorkflow` 方法。该方法创建允许 AI 校对文档的内置工作流提示和模式。

## 3.0.0-alpha.18

### 小改动

- 服务器端 AI 工具包工具定义

## 3.0.0-alpha.17

### 重大改动

- 新增 `tiptapEdit`、`tiptapRead` 和 `tiptapReadSelection` 工具，设为默认。移除 `readNodeRange`、`readSelection`、`insertContent` 和 `applyPatch` 工具。

## 3.0.0-alpha.16

### 小改动

- 新增 `tiptapEdit`、`tiptapRead` 和 `tiptapReadSelection` 工具，使编辑更快速高效。此类工具为实验性且需用户自行选择使用。

## 3.0.0-alpha.15

### 补丁改动

- 修复了导致 AI 在聊天交互开始时未读取文档的缺陷。

## 3.0.0-alpha.14

### 补丁改动

- 修复了导致 AI 在不必要时读取整个文档的缺陷。

## 3.0.0-alpha.13

### 补丁改动

- 修复了文档更新后 AI 读取到错误内容的缺陷。

## 3.0.0-alpha.12

### 补丁改动

- 修复了新建的线程和评论未创建在文档正确位置的缺陷。

## 3.0.0-alpha.11

### 重大改动

- 全新设计 `applyPatch` 工具输入格式，使工具定义更简洁一致。
- 改进所有内置工具的输出和工具定义。
- 需要升级至 `@tiptap-pro/ai-toolkit` 包版本不低于 `3.0.0-alpha.37`

## 3.0.0-alpha.10

### 重大改动

- 将 insertContent 工具中 “html” 属性重命名为 “content”，使内容格式独立。
- 需要升级至 `@tiptap-pro/ai-toolkit` 包版本不低于 `3.0.0-alpha.36`

### 补丁改动

- 修复 insertContent 工具中 activeNodeRange 不是有效位置的缺陷。
- 修复 insertContent 工具导致 activeNodeRange 总是重置为 0 的缺陷。

## 3.0.0-alpha.9

### 重大改动

- 新增 AI 驱动的评论和线程管理工具 `editThreads` 和 `getThreads`
- 需要升级至 `@tiptap-pro/ai-toolkit` 包版本不低于 `3.0.0-alpha.26`

## 3.0.0-alpha.8

### 重大改动

- 将 `applyDiff` 工具重命名为 `applyPatch`
- 改进 `applyDiff`（现名 `applyPatch`）工具格式和定义，使 AI 生成补丁操作列表。此改进提升准确性（避免 AI 产生不必要跳跃）且显著减少代币使用。

## 3.0.0-alpha.7

### 小改动

- 在 `insertContent` 工具中添加 `activeNodeRange` 位置，允许 AI 在活动节点范围内插入内容。当禁用 `applyDiff` 工具时，此改动提升编辑精度。

## 3.0.0-alpha.6

### 小改动

- AI 工具包与 Pages 扩展集成实验性实现。引入 `readPage` 工具。

## 3.0.0-alpha.5

### 重大改动

- 优化 `readSelection` 和 `insertContent` 工具定义，修复用户在 AI 读取选区后变更选区导致内容插入错误的缺陷。需 AI 工具包版本不低于 `3.0.0-alpha-17`

## 3.0.0-alpha.4

### 重大改动

- 需要升级至 `@tiptap-pro/ai-toolkit` 包版本不低于 `3.0.0-alpha.14`
- 改进文档读取与编辑的工具定义

## 3.0.0-alpha.3

### 小改动

- 优化 `readFirstChunk` 工具描述

## 3.0.0-alpha.2

### 重大改动

- 将 `schema` 重命名为 `inputSchema`

## 3.0.0-alpha.1

### 重大改动

- 初始版本，包含适用于 Tiptap AI 工具包的通用工具定义